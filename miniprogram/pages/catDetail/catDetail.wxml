<view style="display:flex; justify-content:center; align-items:center;">
  <!-- 使用数据库中存储的首图URL（背景图） -->
  <image wx:if="{{cat.firstImageUrl}}" mode="widthFix" bindtap='previewImage' class="cat_image" data-src="{{cat.firstImageUrl}}" src="{{cat.firstImageUrl}}" style="width: 90%;"></image>
  <!-- 如果没有首图URL，则使用默认方式 -->
  <image wx:else mode="widthFix" bindtap='previewImage' class="cat_image" data-src="{{url}}{{cat.name}}.jpg" src="{{url}}{{cat.name}}.jpg" style="width: 90%;">
  </image>
</view>

<view class="itemname1">
  <view style='flex-shrink:0; box-sizing:border-box; width:350rpx; display: flex; align-items: center;'>
    <view class="cat-card">{{cat.name}}</view>
    <!-- 管理员编辑按钮 -->
    <view wx:if="{{isAdministrator && currentMode === MODES.ADMIN}}" class="edit-container">
      <button class="edit-detail-btn" bindtap="editCat">编辑</button>
    </view>
  </view>
  <view style='flex-shrink:0; box-sizing:border-box; width:350rpx;'>
    <!-- 猫叫声 -->
    <view class="sound">
      <block wx:for="{{audioArr}}" wx:key="content" wx:for-item="v" wx:for-index="key">
        <!-- 默认状态 未播放 -->
        <view wx:if="{{!v.bl}}" bindtap='audioPlay' data-key="{{key}}" data-id="{{v.id}}" data-bl="{{v.bl}}">
          <image class="play" src="/pages/images/play.png"></image>
        </view>
        <!-- 当前正在播放状态 -->
        <view wx:if="{{v.bl}}" bindtap='audioStop' data-key="{{key}}" data-id="{{v.id}}" data-bl="{{v.bl}}">
          <image class="play" src="/pages/images/pause.png"></image>
        </view>
      </block>
    </view>
  </view>
</view>

<view class="itemname1">
  <view wx:if="{{cat.nickName}}" class="flex-wrp" style="flex-direction:column;">
    <view style='flex-shrink:0; box-sizing:border-box; width:350rpx;'>
      <text user-select="true">昵称</text>
    </view>
    <view class="itemname2">
      <text user-select="true">{{cat.nickName}}</text>
    </view>
  </view>
  <view wx:if="{{cat.furColor}}" class="flex-wrp" style="flex-direction:column;">
    <view style='flex-shrink:0; box-sizing:border-box; width:350rpx;'>
      <text user-select="true">毛色</text>
    </view>
    <view class="itemname2">
      <text user-select="true">{{cat.furColor}}</text>
    </view>
  </view>
  <view wx:if="{{cat.gender}}" class="flex-wrp" style="flex-direction:column;">
    <view style='flex-shrink:0; box-sizing:border-box; width:350rpx;'>
      <text user-select="true">性别</text>
    </view>
    <view class="itemname2">
      <text user-select="true">{{cat.gender}}</text>
    </view>
  </view>
  <view wx:if="{{cat.status}}" class="flex-wrp" style="flex-direction:column;">
    <view style='flex-shrink:0; box-sizing:border-box; width:350rpx;'>
      <text user-select="true">状况</text>
    </view>
    <view class="itemname2">
      <text user-select="true">{{cat.status}}</text>
    </view>
  </view>
  <view wx:if="{{cat.isSterilization}}" class="flex-wrp" style="flex-direction:column;">
    <view style='flex-shrink:0; box-sizing:border-box; width:350rpx;'>
      <text user-select="true">绝育情况</text>
    </view>
    <view class="itemname2">
      <text user-select="true">{{cat.isSterilization}}</text>
    </view>
  </view>
  <view wx:if="{{cat.sterilizationTime}}" class="flex-wrp" style="flex-direction:column;">
    <view style='flex-shrink:0; box-sizing:border-box; width:350rpx;'>
      <text user-select="true">绝育时间</text>
    </view>
    <view class="itemname2">
      <text user-select="true">{{cat.sterilizationTime}}</text>
    </view>
  </view>
  <view wx:if="{{cat.birthTime}}" class="flex-wrp" style="flex-direction:column;">
    <view style='flex-shrink:0; box-sizing:border-box; width:350rpx;'>
      <text user-select="true">出生时间</text>
    </view>
    <view class="itemname2">
      <text user-select="true">{{cat.birthTime}}</text>
    </view>
  </view>
  <view wx:if="{{cat.location}}" class="flex-wrp" style="flex-direction:column;">
    <view style='flex-shrink:0; box-sizing:border-box; width:350rpx;'>
      <text user-select="true">出没地点</text>
    </view>
    <view class="itemname2">
      <text user-select="true">{{cat.location}}</text>
    </view>
  </view>
  <view wx:if="{{cat.vaccine}}" class="flex-wrp" style="flex-direction:column;">
    <view style='flex-shrink:0; box-sizing:border-box; width:350rpx;'>
      <text user-select="true">疫苗情况</text>
    </view>
    <view class="itemname2">
      <text user-select="true">{{cat.vaccine}}</text>
    </view>
  </view>
  <view wx:if="{{cat.character}}" class="flex-wrp" style="flex-direction:column;">
    <view style='flex-shrink:0; box-sizing:border-box; width:350rpx;'>
      <text user-select="true">性格</text>
    </view>
    <view class="itemname2">
      <text user-select="true">{{cat.character}}</text>
    </view>
  </view>
  <view wx:if="{{cat.firstSightingTime}}" class="flex-wrp" style="flex-direction:column;">
    <view style='flex-shrink:0; box-sizing:border-box; width:350rpx;'>
      <text user-select="true">第一次目击时间</text>
    </view>
    <view class="itemname2">
      <text user-select="true">{{cat.firstSightingTime}}</text>
    </view>
  </view>
  <view wx:if="{{cat.missingTime}}" class="flex-wrp" style="flex-direction:column;">
    <view style='flex-shrink:0; box-sizing:border-box; width:350rpx;'>
      <text user-select="true">失踪时间</text>
    </view>
    <view class="itemname2">
      <text user-select="true">{{cat.missingTime}}</text>
    </view>
  </view>
  <view wx:if="{{cat.deliveryTime}}" class="flex-wrp" style="flex-direction:column;">
    <view style='flex-shrink:0; box-sizing:border-box; width:350rpx;'>
      <text user-select="true">送养时间</text>
    </view>
    <view class="itemname2">
      <text user-select="true">{{cat.deliveryTime}}</text>
    </view>
  </view>
  <view wx:if="{{cat.deathTime}}" class="flex-wrp" style="flex-direction:column;">
    <view style='flex-shrink:0; box-sizing:border-box; width:350rpx;'>
      <text user-select="true">离世时间</text>
    </view>
    <view class="itemname2">
      <text user-select="true">{{cat.deathTime}}</text>
    </view>
  </view>
  <view wx:if="{{cat.deathReason}}" class="flex-wrp" style="flex-direction:column;">
    <view style='flex-shrink:0; box-sizing:border-box; width:350rpx;'>
      <text user-select="true">离世原因</text>
    </view>
    <view class="itemname2">
      <text user-select="true">{{cat.deathReason}}</text>
    </view>
  </view>
  <view wx:if="{{cat.appearance}}" class="flex-wrp" style="flex-direction:column;">
    <view style='flex-shrink:0; box-sizing:border-box; width:350rpx;'>
      <text user-select="true">外貌</text>
    </view>
    <view class="itemname2">
      <text user-select="true">{{cat.appearance}}</text>
    </view>
  </view>
  <view wx:if="{{cat.moreInformation}}" class="flex-wrp" style="flex-direction:column;">
    <view style='flex-shrink:0; box-sizing:border-box; width:350rpx;'>
      <text user-select="true">更多</text>
    </view>
    <view class="itemname2">
      <text user-select="true">{{cat.moreInformation}}</text>
    </view>
  </view>
  <view wx:if="{{cat.relationship}}" class="flex-wrp" style="flex-direction:column;">
    <view style='flex-shrink:0; box-sizing:border-box; width:350rpx;'>
      <text user-select="true">关系</text>
    </view>
    <view class="itemname2">
      <text user-select="true">{{cat.relationship}}</text>
    </view>
  </view>
</view>

<view wx:if="{{relatedCatsId.length > 0}}" class="related-cats-section">
  <view class="section-title">相关猫咪</view>
  <view class="related-cats-container">
    <navigator wx:for="{{relatedCatsId}}" wx:key="_id" class="related-cat-item" url="/pages/catDetail/catDetail?_id={{item._id}}">
      <view class="related-cat-avatar-container">
        <image wx:if="{{item.avatarUrl}}" class="related-cat-avatar" src="{{item.avatarUrl}}" mode="aspectFill"></image>
        <image wx:else class="related-cat-avatar" src="{{url}}{{item.name}}.png" mode="aspectFill"></image>
      </view>
      <text class="related-cat-name">{{item.name}}</text>
    </navigator>
  </view>
</view>

<text> \n </text>

<!-- 显示从数据库中获取的图片 -->
<block wx:for="{{cat.imageUrlList}}" wx:key="index">
  <view style="display:flex; justify-content:center; align-items:center;">
    <image mode="widthFix" class="cat_image" bindtap='previewImage' src="{{item}}" data-src="{{item}}" style="width: 90%;"></image>
  </view>
  <text> \n </text>
</block>

<!-- 显示从数据库中获取的视频 -->
<block wx:for="{{cat.videoUrlList}}" wx:key="index">
  <view style="display:flex; justify-content:center; align-items:center;">
    <video mode="widthFix" class="cat_video" src="{{item}}" style="width: 90%;"></video>
  </view>
  <text> \n </text>
</block>